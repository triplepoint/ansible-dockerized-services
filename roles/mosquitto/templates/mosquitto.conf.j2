# Config file for mosquitto
#
# See: https://mosquitto.org/man/mosquitto-conf-5.html
# See: https://github.com/eclipse/mosquitto/blob/master/mosquitto.conf
#
###################################################################

# Don't allow anonymous users
allow_anonymous false
password_file /mosquitto/config/passwd


# Localhost listener
listener 1883 localhost


# TLS MQTT (MQTTS) Listener
listener 8883
certfile {{ mosquitto_certfile }}
cafile {{ mosquitto_cafile }}
keyfile {{ mosquitto_keyfile }}


# TLS Websocket Listener
{% if mosquitto_enable_websockets %}
listener 8083
protocol websockets
certfile {{ mosquitto_certfile }}
cafile {{ mosquitto_cafile }}
keyfile {{ mosquitto_keyfile }}
{% endif %}
